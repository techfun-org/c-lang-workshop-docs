#  配列
C言語勉強会 第六回

E3  
May 29, 2013  
[引用 : Programming Place Plus](http://www.geocities.jp/ky_webid/index.html)

----
###  配列

これまで使ってきた変数は  
    *a b c i j x y z*

などのただの文字。たとえばこいつらに0~7までの数字を代入しようとすると  
    a=0; b=1; c=2; ･･･ z=7;

非常に扱いにくい。

----

ではここでおもむろに配列を使ってみる。  
＿人人人人人人人＿  
＞　配列って何　＜  
￣Y^Y^Y^Y^Y^Y￣  

配列とは *同じ型の同じ変数名で複数の記憶領域* を確保するもの。  
ようするに今までの変数が1つの箱だったとすれば、配列は棚を用意したもの。  
棚ならば、きれいにしまえる。気がする。

----

### 配列の宣言

コレまでの変数と「基本」は同じ。今までのは  
    int *a*;  
これで整数型でaという変数が宣言された。


配列の宣言は  
型　変数名[サイズ];  
といった風に宣言される。  
    int *a[ 7 ]*;  
これで整数型でaという配列変数が*__7__*つほどが宣言された。  


前のスライドのaという変数は  
    *a*    
という1つの変数の宣言の仕方。
先ほどの配列の宣言は  
    *__a__[ 0 ]*   *__a__[ 1 ]*   *__a__[ 2 ]*   *__a__[ 3 ]*   *__a__[ 4 ]*   *__a__[ 5 ]*   *__a__[ 6 ]*  
という7つの変数の宣言になる。  

*__a__*は配列の変数名、[　]の中の数字は _添え字_ という。  
添え字は必ず0から始まることに注意しよう！

----

### 多次元配列

さっきの配列は「1次元配列」とも呼ばれる。当然「2次元配列」や「3次元配列」もある。  

    int a[3];   //1次元配列  
    ↓  
    a[0] a[1] a[2]  


    int  a[3][4];   //2次元配列  
    ↓  
    a[0][0]  a[0][1]  a[0][2]  a[0][3]  
    a[1][0]  a[1][1]  a[1][2]  a[1][3]  
    a[2][0]  a[2][1]  a[2][2]  a[2][3]  

1次元配列ではサイズ数の変数を、2次元配列ではサイズ数×サイズ数、  
3次元配列では･･･と続く。2次元以上の配列を *多次元配列* という。  
行列の構造と同じなので、行列を思い浮かべると吉。  

----

### 配列の初期化その1

変数なので初期化もできる。  

    int x = 5;  //普通の変数の初期化  
    
    int a[5] = {0,2,4,6,8}; //配列の変数の初期化  

上は変数aに5が入ってる。これはわかる。


下は  
変数a[0]に0、a[1]に2、a[2]に4、a[3]に6、a[4]に8  
が入っている。  
配列の初期化は、基本的に順番に文字を代入していくと考えるとよい。
ちなみに初期化するときは  

    int a[] = {0,2,4,6,8};  

これでも上と同じ意味になる。  

----

### 配列の初期化その2

多次元配列の初期化はどうなるか。  

    int a[2][2] = { {2,4,6},  
                    {3,6,9},  
                    {4,8,12} };  
これは  
変数a[0][0]に2 変数a[0][1]に4 変数a[0][2]に6  
変数a[1][0]に3 変数a[1][1]に6 変数a[1][2]に9  
変数a[2][0]に4 変数a[2][1]に8 変数a[2][2]に12  
が入ってる。
これも行列の感覚でやるとわかりやすい。  
ちなみに上の初期化は  

    int a[2][2] = { {2,4,6},　{3,6,9},　{4,8,12} };  
    
このような1行でも表せる。  
----

### 配列を利用した文字列その1

char型は文字が1文字しか入らなかった。  

    char moji = 'a';  
    
moji変数に「a」という文字を入れた。
では文章を変数に入れるにはどうすればよいのか。  
    
    char str[20] = {"hairetsu wakaran"};

こうやって宣言すると文字単体ではなく、*文字列*が扱える。  

----

### 配列を利用した文字列その2


記述例

    #include <stdio.h> 
    int main(void){
        char str[20] = {"hairetsu wakaran"};
        printf("%s\n",str);
    }

printfでchar型1文字を出力するときは「*%c*」だったが、  
複数の文字だと「*%s*」となることに注意しよう。

----

### 配列を利用した文字列~入力編~
さっきのページではプログラム内で文字を置いていた。今度はキーボードからの入力について。  

    char a[20];  
    scanf(“%s”,&a);  

こうすれば文章が入力できるようになる。この場合だと20の箱の中に1文字ずつ入れていくイメージをするとよい。  

ただし、文字列では最後に終わりを示すNULL文字というものが自動的に入るので配列に入れられる文字は（配列の個数-１）文字であることに注意して扱う。